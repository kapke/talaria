define(["require", "exports", './EntityInfo', './Repository'], function (require, exports, EntityInfo, Repository) {
    var MyBind = (function () {
        function MyBind() {
            this.entities = {};
            this.repositories = {};
        }
        MyBind.prototype.registerEntity = function (constructor, config) {
            this.entities[config.name] = new EntityInfo(constructor, config);
        };
        MyBind.prototype.getEntityInfo = function (name) {
            return this.entities[name];
        };
        MyBind.prototype.getRepository = function (name) {
            if (!this.repositories[name]) {
                this.repositories[name] = new Repository(this.getEntityInfo(name));
            }
            return this.repositories[name];
        };
        MyBind.getInstance = function () {
            if (!MyBind.instance) {
                MyBind.instance = new MyBind();
            }
            return MyBind.instance;
        };
        return MyBind;
    })();
    return MyBind;
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk15QmluZC50cyJdLCJuYW1lcyI6WyJNeUJpbmQiLCJNeUJpbmQuY29uc3RydWN0b3IiLCJNeUJpbmQucmVnaXN0ZXJFbnRpdHkiLCJNeUJpbmQuZ2V0RW50aXR5SW5mbyIsIk15QmluZC5nZXRSZXBvc2l0b3J5IiwiTXlCaW5kLmdldEluc3RhbmNlIl0sIm1hcHBpbmdzIjoiMkZBQ08sVUFBVSxFQUNWLFVBQVU7SUFFakIsSUFBTSxNQUFNO1FBTVJBLFNBTkVBLE1BQU1BO1lBR0FDLGFBQVFBLEdBQWdDQSxFQUFFQSxDQUFDQTtZQUMzQ0EsaUJBQVlBLEdBQXFDQSxFQUFFQSxDQUFDQTtRQUVyQ0EsQ0FBQ0E7UUFFakJELCtCQUFjQSxHQUFyQkEsVUFBdUJBLFdBQWVBLEVBQUVBLE1BQW1CQTtZQUN2REUsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsSUFBSUEsVUFBVUEsQ0FBQ0EsV0FBV0EsRUFBRUEsTUFBTUEsQ0FBQ0EsQ0FBQ0E7UUFDckVBLENBQUNBO1FBRU1GLDhCQUFhQSxHQUFwQkEsVUFBc0JBLElBQVdBO1lBQzdCRyxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUMvQkEsQ0FBQ0E7UUFFTUgsOEJBQWFBLEdBQXBCQSxVQUF5QkEsSUFBV0E7WUFDaENJLEVBQUVBLENBQUFBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUMxQkEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsSUFBSUEsVUFBVUEsQ0FBSUEsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDMUVBLENBQUNBO1lBQ0RBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQ25DQSxDQUFDQTtRQUVhSixrQkFBV0EsR0FBekJBO1lBQ0lLLEVBQUVBLENBQUFBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBO2dCQUNsQkEsTUFBTUEsQ0FBQ0EsUUFBUUEsR0FBR0EsSUFBSUEsTUFBTUEsRUFBRUEsQ0FBQ0E7WUFDbkNBLENBQUNBO1lBQ0RBLE1BQU1BLENBQUNBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBO1FBQzNCQSxDQUFDQTtRQUNMTCxhQUFDQTtJQUFEQSxDQTdCQSxBQTZCQ0EsSUFBQTtJQUVELEFBQWdCLE9BQVAsTUFBTSxDQUFDIiwiZmlsZSI6Ik15QmluZC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9rYXBrZS9wcm9qZWN0cy90YWxhcmlhLyIsInNvdXJjZXNDb250ZW50IjpbXX0=